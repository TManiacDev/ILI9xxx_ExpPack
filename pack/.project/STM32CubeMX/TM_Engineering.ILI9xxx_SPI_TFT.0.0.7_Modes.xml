<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<IP xmlns="http://mcd.rou.st.com/modules.php?name=mcu" DBVersion="V4.0" IPType="Thirdparty" IpGroup="Additional Software" Name="TM_Engineering.ILI9xxx_SPI_TFT" Version="0.0.7" xmlns:ns0="http://www.w3.org/2001/XMLSchema-instance" ns0:schemaLocation="http://mcd.rou.st.com/modules.php?name=mcu ../../../../../../../doc/V4/Development/Specifications/db/IP_Modes.xsd">
    <!--Generated by CubeMX-->
    <RefMode Abstract="true" Name="BoardOoSupportJjSPIIiTFT">
        <ConfigForMode>BoardOoSupportJjSPIIiTFT</ConfigForMode>
        <Parameter Name="BoardOoSupportJjSPIIiTFTJjILI9xxx"/>
    </RefMode>
    <RefMode Abstract="true" Name="DeviceJjApplication">
        <ConfigForMode>DeviceJjApplication</ConfigForMode>
        <Parameter Name="DeviceJjApplication"/>
    </RefMode>
    <RefMode Abstract="true" Name="BoardOoPartJjDISPLAY">
        <ConfigForMode>BoardOoPartJjDISPLAY</ConfigForMode>
        <Parameter Name="DISPLAYCcBoardOoPartJjLCDJjILI9xxx"/>
        <Parameter Added="true" Name="DISPLAY_TYP"/>
        <Parameter Added="true" Name="DISPLAY_USING_TOUCHGFX"/>
        <Parameter Added="true" Name="DISPLAY_SPI_MODE"/>
        <Parameter Added="true" Name="DISPLAY_PRESCALER"/>
        <Parameter Added="true" Name="DISPLAY_BUFLEVEL"/>
        <BspDependency BspIpName="SPI" BspModeName="Full-Duplex Master" Comment="Using SPI for write (Display) and write (Touch)" GroupName="BSP" Name="BSP SPI"/>
        <BspDependency BspIpName="SPI" BspModeName="Half-Duplex Master" Comment="Using SPI for write (Display) and write (Touch)" GroupName="BSP" Name="BSP SPI"/>
        <BspDependency BspIpName="SPI" BspModeName="Transmit Only Master" Comment="Using SPI for write (Display) only" GroupName="BSP" Name="BSP SPI"/>
        <BspDependency BspIpName="GPIO" BspModeName="Output" Comment="GPIO used fÃ¼r Display chip select" GroupName="BSP" Name="Display CS"/>
        <BspDependency BspIpName="GPIO" BspModeName="Output" Comment="GPIO used for display data-command selection" GroupName="BSP" Name="Display DC"/>
        <BspDependency BspIpName="GPIO" BspModeName="Output" Comment="Select Output" GroupName="BSP" Name="Display Backlight">
            <Condition Diagnostic="" Expression="SEMDISPLAYCcBoardOoPartJjLCDJjILI9xxxJjSPIIiwBackLight | SEMDISPLAYCcBoardOoPartJjLCDJjILI9xxxJjSPIIiwAll" Name="Need_BackLight"/>
        </BspDependency>
        <BspDependency BspIpName="GPIO" BspModeName="Output" Comment="Select a output to control display reset" GroupName="BSP" Name="Display Reset">
            <Condition Diagnostic="" Expression="SEMDISPLAYCcBoardOoPartJjLCDJjILI9xxxJjSPIIiwReset | SEMDISPLAYCcBoardOoPartJjLCDJjILI9xxxJjSPIIiwAll" Name="Need_Reset"/>
        </BspDependency>
        <BspDependency BspIpName="TIM.*" BspModeName="Internal Clock" Comment="Hmmmm" GroupName="BSP" Name="TouchGFX Timer"/>
        <BspDependency BspIpName="TIM.*" BspModeName="Test Enable" Comment="Slave" GroupName="BSP" Name="TouchGFX Timer"/>
        <BspDependency BspIpName="TIM.*" BspModeName="Enable_Timer" Comment="Gate" GroupName="BSP" Name="TouchGFX Timer"/>
        <BspDependency BspIpName="TIM1_8" BspModeName="Output Compare No Output" Comment="Trigger" GroupName="BSP" Name="TouchGFX Timer"/>
        <BspDependency BspIpName="TIM1_8" BspModeName="XOR ON / Hall Sensor Mode" Comment="CapCom" GroupName="BSP" Name="TouchGFX Timer"/>
    </RefMode>
    <ModeLogicOperator Name="OR">
        <Mode Name="BoardOoSupportJjSPIIiTFT">
            <ModeLogicOperator Name="OR">
                <Mode Name="BoardOoSupportJjSPIIiTFT">
                    <SignalLogicalOp Name="AND">
                        <Signal Name="VS_BoardOoSupportJjSPIIiTFT_0.0.1_0.0.7"/>
                    </SignalLogicalOp>
                </Mode>
            </ModeLogicOperator>
        </Mode>
        <Mode Name="DeviceJjApplication">
            <ModeLogicOperator Name="OR">
                <Mode Name="DeviceJjApplication">
                    <SignalLogicalOp Name="AND">
                        <Signal Name="VS_DeviceJjApplication_0.0.1_0.0.7"/>
                    </SignalLogicalOp>
                </Mode>
            </ModeLogicOperator>
        </Mode>
        <Mode Name="BoardOoPartJjDISPLAY">
            <ModeLogicOperator Name="OR">
                <Mode Name="BoardOoPartJjDISPLAY">
                    <SignalLogicalOp Name="AND">
                        <Signal Name="VS_BoardOoPartJjDISPLAY_0.0.1_0.0.7"/>
                    </SignalLogicalOp>
                </Mode>
            </ModeLogicOperator>
        </Mode>
    </ModeLogicOperator>
    <RefSignal Name="VS_BoardOoSupportJjSPIIiTFT_0.0.1_0.0.7" Virtual="true"/>
    <RefSignal Name="VS_DeviceJjApplication_0.0.1_0.0.7" Virtual="true"/>
    <RefSignal Name="VS_BoardOoPartJjDISPLAY_0.0.1_0.0.7" Virtual="true"/>
    <RefParameter Comment="The driver software" DefaultValue="false" Group="Software component selection" Name="BoardOoSupportJjSPIIiTFTJjILI9xxx" TabName="BoardOoSupportJjSPIIiTFT" Type="boolean" Visible="false">
        <PossibleValue Comment="ENABLE" Semaphore="SEMBoardOoSupportJjSPIIiTFTJjILI9xxx" Value="true"/>
        <PossibleValue Comment="DISABLE" Value="false"/>
    </RefParameter>
    <RefParameter Comment="Device Application" DefaultValue="disable" Group="Software component selection" Name="DeviceJjApplication" TabName="DeviceJjApplication" Type="list" Visible="false">
        <PossibleValue Comment="DISABLE" Value="DISABLE"/>
        <PossibleValue Comment="A simple Hello World on TFT display application" Semaphore="SEMDeviceJjApplicationJjHelloWorld" Value="HelloWorld"/>
        <Condition Diagnostic="We need the connection for the application" Expression="CONDITIONIihasIiboardSupport=true"/>
    </RefParameter>
    <RefParameter Comment="Device Application" DefaultValue="disable" Group="Software component selection" Name="DeviceJjApplication" TabName="DeviceJjApplication" Type="list" Visible="false"/>
    <RefParameter Comment="Board Part LCD ILI9xxx" DefaultValue="disable" Group="Software component selection" Name="DISPLAYCcBoardOoPartJjLCDJjILI9xxx" TabName="BoardOoPartJjDISPLAY" Type="list" Visible="false">
        <PossibleValue Comment="DISABLE" Value="DISABLE"/>
        <PossibleValue Comment="Select a board with SPI only (no back light or reset control)" Semaphore="SEMDISPLAYCcBoardOoPartJjLCDJjILI9xxxJjSPIIionly" Value="SPIIionly"/>
        <PossibleValue Comment="Select a board with SPI plus reset control" Semaphore="SEMDISPLAYCcBoardOoPartJjLCDJjILI9xxxJjSPIIiwReset" Value="SPIIiwReset"/>
        <PossibleValue Comment="Select a board with SPI plus back light control" Semaphore="SEMDISPLAYCcBoardOoPartJjLCDJjILI9xxxJjSPIIiwBackLight" Value="SPIIiwBackLight"/>
        <PossibleValue Comment="Select a board with SPI plus back light and reset control" Semaphore="SEMDISPLAYCcBoardOoPartJjLCDJjILI9xxxJjSPIIiwAll" Value="SPIIiwAll"/>
    </RefParameter>
    <RefParameter Comment="Condition Iihas Iiboard Support" DefaultValue="true" Name="CONDITIONIihasIiboardSupport" Type="boolean" Visible="false"/>
    <RefParameter Added="true" Comment="Using TouchGFX" DefaultValue="false" Group="Basic Parameters" Name="DISPLAY_USING_TOUCHGFX" TabName="Parameter Settings" Type="boolean">
        <Description>If using library in TouchGFX-full-mode (see GitHub page indicated on top for details)</Description>
        <PossibleValue Comment="true" Value="true"/>
        <PossibleValue Comment="false" Value="false"/>
    </RefParameter>
    <RefParameter Added="true" Comment="SPI Clock Prescaler" DefaultValue="PRESCALER_2" Group="SPI Parameter" Name="DISPLAY_PRESCALER" TabName="Parameter Settings" Type="list">
        <PossibleValue Comment="2" Value="PRESCALER_2"/>
        <PossibleValue Comment="4" Value="PRESCALER_4"/>
        <PossibleValue Comment="8" Value="PRESCALER_8"/>
        <PossibleValue Comment="16" Value="PRESCALER_16"/>
        <PossibleValue Comment="32" Value="PRESCALER_32"/>
        <PossibleValue Comment="64" Value="PRESCALER_64"/>
        <PossibleValue Comment="128" Value="PRESCALER_128"/>
        <PossibleValue Comment="256" Value="PRESCALER_256"/>
    </RefParameter>
    <RefParameter Added="true" Comment="Buffer Size" DefaultValue="13" Group="SPI Parameter" Max="64" Min="1" Name="DISPLAY_BUFLEVEL" TabName="Parameter Settings" Type="integer" Unit="">
        <Description>IF NO TOUCHGFX: 
 * BUFLEVEL defines size of each one of the 2 SPI 
 * buffers: buffer size is 2^BUFLEVEL so 2 means 
 * 4 bytes buffer and 10 means 1 kbyte (each).
 * It must be not below 10!
 If TOUCHGFX:
 * buffers are not used if display handles RGB565. 
 * If display uses RGB666 one buffer will be used for 
 * color format translation. In this case set
 * BUFLEVEL following this table:
 * TouchGFX buffers&gt;10KB need BUFLEVEL 15
 * TouchGFX buffers&gt;5KB  need BUFLEVEL 14
 * TouchGFX buffers&gt;2700bytes need BUFLEVEL 13
 * TouchGFX buffers&gt;1300bytes need BUFLEVEL 12</Description>
    </RefParameter>
    <RefParameter Added="true" Comment="SPI Mode" DefaultValue="POLLING_MODE" Group="SPI Parameter" Name="DISPLAY_SPI_MODE" TabName="Parameter Settings" Type="list">
        <PossibleValue Comment="Polling Mode" Value="POLLING_MODE"/>
        <PossibleValue Comment="DMA Mode" Value="DMA_MODE"/>
        <PossibleValue Comment="Interrupt Mode" Value="INTERRUPT_MODE"/>
    </RefParameter>
    <RefParameter Added="true" Comment="Display Type" DefaultValue="ILI9341" Group="Display Parameters" Name="DISPLAY_TYP" TabName="Parameter Settings" Type="list">
        <Description>Select Display Typ</Description>
        <PossibleValue Comment="ILI9341 (240x320)" Value="ILI9341"/>
        <PossibleValue Comment="ILI9488 (320x480 RGB565)" Value="ILI9488_V1"/>
        <PossibleValue Comment="ILI9488 (320x480 RGB666)" Value="ILI9488_V2"/>
    </RefParameter>
</IP>
